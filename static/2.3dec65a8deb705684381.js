(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{kjyo:function(n,l,e){"use strict";var t=e("CcnG"),o=e("A7o+"),u=e("gIcY"),i=e("Ip0R");e("q/Ak"),e("4a7C"),e("H+bZ"),e("XDbx"),e.d(l,"a",function(){return c}),e.d(l,"b",function(){return P});var c=t.pb({encapsulation:0,styles:[[".inVisible[_ngcontent-%COMP%]{position:absolute;width:0;height:0;border:0;margin:0;padding:0;opacity:0;color:transparent;background:0 0}.red[_ngcontent-%COMP%]{color:red}.inVisibleMob[_ngcontent-%COMP%]{position:absolute;border:0;margin:0;opacity:0;color:transparent;background:0 0;top:-40px}.tokensContainer[_ngcontent-%COMP%]   .token[_ngcontent-%COMP%]{width:30px;overflow:hidden;height:40px;border:2px solid #000;margin:20px 5px 10px;display:flex;justify-content:center;align-items:center;position:relative;border-radius:6px;cursor:pointer}.tokensContainer[_ngcontent-%COMP%]   .token[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0;font-size:21px;width:100%;text-align:center;cursor:pointer}.tokensContainer[_ngcontent-%COMP%]   .token.invalid[_ngcontent-%COMP%]{border-color:#dd5656}.tokensContainer[_ngcontent-%COMP%]   .token.focused[_ngcontent-%COMP%]{border-color:#003f75}.background[_ngcontent-%COMP%]{position:fixed;left:0;top:0;width:100%;height:100%;background:rgba(0,0,0,.3);z-index:9999}.background[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]{position:absolute;top:0;left:0;z-index:4;-webkit-transform:translate(50vw,50vh) translate(-50%,-50%);transform:translate(50vw,50vh) translate(-50%,-50%);border-radius:5px;overflow:hidden;min-width:500px}.background[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]{background:#003f75;padding:20px}.background[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   h1[_ngcontent-%COMP%]{color:#fff;margin-right:30px}.background[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .header[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{position:absolute;right:10px;top:20px;width:30px;cursor:pointer}.background[_ngcontent-%COMP%]   .body[_ngcontent-%COMP%]   .tokensContainer[_ngcontent-%COMP%]{padding:40px;background:#fff;text-align:center}.error[_ngcontent-%COMP%]{color:#dd5656;margin:0}button.solicita[_ngcontent-%COMP%]{height:35px;width:150px;color:#fff;border:0;border-radius:45px;background-color:#003f75}@media only screen and (max-width:810px){.tokensContainer[_ngcontent-%COMP%]{position:relative}}@media only screen and (max-width:490px){.box-button-token[_ngcontent-%COMP%]{justify-content:center}}"]],data:{}});function a(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,2,"p",[["class","remove-margin"]],null,null,null,null,null)),(n()(),t.Jb(1,null,["",""])),t.Db(131072,o.j,[o.k,t.h])],null,function(n,l){n(l,1,0,t.Kb(l,1,0,t.Bb(l,2).transform("Message_Token")))})}function r(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"p",[["class","remove-margin"]],null,null,null,null,null)),(n()(),t.Jb(1,null,["Ingresar ",""]))],null,function(n,l){n(l,1,0,l.component.title)})}function s(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"p",[["class","remove-margin red"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n      No tiene un token de seguridad asociado\n    "]))],null,null)}function b(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"p",[["class","remove-margin red"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n      Token bloqueado por intentos fallidos\n    "]))],null,null)}function d(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"button",[["class","solicita margin-top"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.solicitaToken()&&t),t},null,null)),(n()(),t.Jb(-1,null,["\n      Solicitar Token\n    "]))],null,null)}function p(n){return t.Lb(0,[(n()(),t.rb(0,0,[[1,0],["lector",1]],null,0,"input",[["class","inVisible"],["type","text"]],null,[[null,"keydown"],[null,"focus"]],function(n,l,e){var t=!0,o=n.component;return"keydown"===l&&(t=!1!==o.keyDown(e)&&t),"focus"===l&&(t=!1!==o.focusInput(o.datamodel.value.length)&&t),t},null,null))],null,null)}function f(n){return t.Lb(0,[(n()(),t.rb(0,0,[[1,0],["lector",1]],null,7,"input",[["class","inVisibleMob"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0,u=n.component;return"input"===l&&(o=!1!==t.Bb(n,1)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t.Bb(n,1).onTouched()&&o),"compositionstart"===l&&(o=!1!==t.Bb(n,1)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t.Bb(n,1)._compositionEnd(e.target.value)&&o),"focus"===l&&(o=!1!==u.focusInput(u.datamodel.value.length)&&o),o},null,null)),t.qb(1,16384,null,0,u.d,[t.F,t.k,[2,u.a]],null,null),t.qb(2,540672,null,0,u.l,[],{maxlength:[0,"maxlength"]},null),t.Gb(1024,null,u.n,function(n){return[n]},[u.l]),t.Gb(1024,null,u.o,function(n){return[n]},[u.d]),t.qb(5,540672,null,0,u.g,[[6,u.n],[8,null],[6,u.o],[2,u.B]],{form:[0,"form"]},null),t.Gb(2048,null,u.p,null,[u.g]),t.qb(7,16384,null,0,u.q,[[4,u.p]],null,null)],function(n,l){var e=l.component;n(l,2,0,e.length),n(l,5,0,e.tokenMob)},function(n,l){n(l,0,0,t.Bb(l,2).maxlength?t.Bb(l,2).maxlength:null,t.Bb(l,7).ngClassUntouched,t.Bb(l,7).ngClassTouched,t.Bb(l,7).ngClassPristine,t.Bb(l,7).ngClassDirty,t.Bb(l,7).ngClassValid,t.Bb(l,7).ngClassInvalid,t.Bb(l,7).ngClassPending)})}function g(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,6,"div",[["class","token pull-left"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.focusInput(n.context.index)&&t),t},null,null)),t.qb(1,278528,null,0,i.l,[t.t,t.u,t.k,t.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Eb(2,{focused:0,"remove-margin-left":1,invalid:2,"remove-margin-bottom":3}),(n()(),t.Jb(-1,null,["\n            "])),(n()(),t.rb(4,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t.Jb(5,null,["",""])),(n()(),t.Jb(-1,null,["\n          "]))],function(n,l){var e=l.component,t=n(l,2,0,e.indice==l.context.index,0==l.context.index,e.datamodel.invalid&&e.datamodel.touched&&""==e.token[l.context.index],e.datamodel.invalid&&e.datamodel.touched);n(l,1,0,"token pull-left",t)},function(n,l){n(l,5,0,l.component.token[l.context.index])})}function h(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,16,null,null,null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.ib(16777216,null,null,1,null,p)),t.qb(3,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.ib(16777216,null,null,1,null,f)),t.qb(6,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.rb(8,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.rb(10,0,null,null,4,"div",[["class","col-12"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n          "])),(n()(),t.ib(16777216,null,null,1,null,g)),t.qb(13,278528,null,0,i.m,[t.Q,t.N,t.t],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.Jb(-1,null,["\n    "]))],function(n,l){var e=l.component;n(l,3,0,!e.isMobile),n(l,6,0,e.isMobile),n(l,13,0,e.token)},null)}function m(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,2,"p",[["class","error"]],null,null,null,null,null)),(n()(),t.Jb(1,null,["",""])),t.Db(131072,o.j,[o.k,t.h])],null,function(n,l){n(l,1,0,t.Kb(l,1,0,t.Bb(l,2).transform("InputErrorMsgs.required")))})}function k(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"button",[["class","primary-button-token"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.sendSMS()&&t),t},null,null)),(n()(),t.Jb(-1,null,["\n          ENVIAR TOKEN\n        "]))],null,null)}function v(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,7,"div",[["class","row box-button-token"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.rb(2,0,null,null,4,"div",[],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.ib(16777216,null,null,1,null,k)),t.qb(5,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.Jb(-1,null,["\n    "]))],function(n,l){n(l,5,0,!l.component.customMethod)},null)}function S(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,7,null,null,null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.ib(16777216,null,null,1,null,m)),t.qb(3,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.ib(16777216,null,null,1,null,v)),t.qb(6,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n  "]))],function(n,l){var e=l.component;n(l,3,0,e.datamodel.invalid&&e.datamodel.touched),n(l,6,0,e.showReSendSMS&&e.ScopeService.scope.tokenSMS&&e.needToHaveToken)},null)}function w(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,25,null,null,null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n  "])),(n()(),t.rb(2,0,null,null,19,"div",[["class","tokensContainer"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.ib(16777216,null,null,1,null,a)),t.qb(5,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.ib(16777216,null,null,1,null,r)),t.qb(8,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.ib(16777216,null,null,1,null,s)),t.qb(11,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.ib(16777216,null,null,1,null,b)),t.qb(14,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.ib(16777216,null,null,1,null,d)),t.qb(17,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.ib(16777216,null,null,1,null,h)),t.qb(20,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n  "])),(n()(),t.Jb(-1,null,["\n\n  "])),(n()(),t.ib(16777216,null,null,1,null,S)),t.qb(24,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,5,0,!e.title),n(l,8,0,e.title),n(l,11,0,!e.hasToken&&e.needToHaveToken&&!e.blockedToken),n(l,14,0,!e.hasToken&&e.needToHaveToken&&e.blockedToken),n(l,17,0,!e.hasToken&&e.needToHaveToken&&!e.blockedToken),n(l,20,0,e.hasToken||!e.needToHaveToken),n(l,24,0,e.hasToken||!e.needToHaveToken)},null)}function x(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,2,"h1",[["class","remove-margin-bottom"]],null,null,null,null,null)),(n()(),t.Jb(1,null,["",""])),t.Db(131072,o.j,[o.k,t.h])],null,function(n,l){n(l,1,0,t.Kb(l,1,0,t.Bb(l,2).transform("Message_Token")))})}function y(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,"h1",[["class","remove-margin-bottom"]],null,null,null,null,null)),(n()(),t.Jb(1,null,["Ingresar ",""]))],null,function(n,l){n(l,1,0,l.component.title)})}function T(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,1,null,null,null,null,null,null,null)),(n()(),t.Jb(-1,null,["RE"]))],null,null)}function M(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,4,"button",[["class","primary-button-token"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.sendSMS()&&t),t},null,null)),(n()(),t.Jb(-1,null,["\n              "])),(n()(),t.ib(16777216,null,null,1,null,T)),t.qb(3,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["ENVIAR SMS\n            "]))],function(n,l){n(l,3,0,l.component.sendedSMS)},null)}function I(n){return t.Lb(0,[(n()(),t.rb(0,0,[[1,0],["lector",1]],null,0,"input",[["class","inVisible"],["type","text"]],null,[[null,"keydown"],[null,"focus"]],function(n,l,e){var t=!0,o=n.component;return"keydown"===l&&(t=!1!==o.keyDown(e)&&t),"focus"===l&&(t=!1!==o.focusInput(o.datamodel.value.length)&&t),t},null,null))],null,null)}function J(n){return t.Lb(0,[(n()(),t.rb(0,0,[[1,0],["lector",1]],null,7,"input",[["class","inVisibleMob"],["type","text"]],[[1,"maxlength",0],[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"focus"],[null,"input"],[null,"blur"],[null,"compositionstart"],[null,"compositionend"]],function(n,l,e){var o=!0,u=n.component;return"input"===l&&(o=!1!==t.Bb(n,1)._handleInput(e.target.value)&&o),"blur"===l&&(o=!1!==t.Bb(n,1).onTouched()&&o),"compositionstart"===l&&(o=!1!==t.Bb(n,1)._compositionStart()&&o),"compositionend"===l&&(o=!1!==t.Bb(n,1)._compositionEnd(e.target.value)&&o),"focus"===l&&(o=!1!==u.focusInput(u.datamodel.value.length)&&o),o},null,null)),t.qb(1,16384,null,0,u.d,[t.F,t.k,[2,u.a]],null,null),t.qb(2,540672,null,0,u.l,[],{maxlength:[0,"maxlength"]},null),t.Gb(1024,null,u.n,function(n){return[n]},[u.l]),t.Gb(1024,null,u.o,function(n){return[n]},[u.d]),t.qb(5,540672,null,0,u.g,[[6,u.n],[8,null],[6,u.o],[2,u.B]],{form:[0,"form"]},null),t.Gb(2048,null,u.p,null,[u.g]),t.qb(7,16384,null,0,u.q,[[4,u.p]],null,null)],function(n,l){var e=l.component;n(l,2,0,e.length),n(l,5,0,e.tokenMob)},function(n,l){n(l,0,0,t.Bb(l,2).maxlength?t.Bb(l,2).maxlength:null,t.Bb(l,7).ngClassUntouched,t.Bb(l,7).ngClassTouched,t.Bb(l,7).ngClassPristine,t.Bb(l,7).ngClassDirty,t.Bb(l,7).ngClassValid,t.Bb(l,7).ngClassInvalid,t.Bb(l,7).ngClassPending)})}function C(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,6,"div",[["class","token pull-left"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.focusInput(n.context.index)&&t),t},null,null)),t.qb(1,278528,null,0,i.l,[t.t,t.u,t.k,t.F],{klass:[0,"klass"],ngClass:[1,"ngClass"]},null),t.Eb(2,{focused:0,invalid:1,"remove-margin-bottom":2}),(n()(),t.Jb(-1,null,["\n            "])),(n()(),t.rb(4,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),t.Jb(5,null,["",""])),(n()(),t.Jb(-1,null,["\n          "]))],function(n,l){var e=l.component,t=n(l,2,0,e.indice==l.context.index,e.datamodel.invalid&&e.datamodel.touched&&""==e.token[l.context.index],e.datamodel.invalid&&e.datamodel.touched);n(l,1,0,"token pull-left",t)},function(n,l){n(l,5,0,l.component.token[l.context.index])})}function N(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,2,"p",[["class","error"]],null,null,null,null,null)),(n()(),t.Jb(1,null,["",""])),t.Db(131072,o.j,[o.k,t.h])],null,function(n,l){n(l,1,0,t.Kb(l,1,0,t.Bb(l,2).transform("InputErrorMsgs.required")))})}function _(n){return t.Lb(0,[(n()(),t.rb(0,0,null,null,54,null,null,null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n  "])),(n()(),t.rb(2,0,null,null,51,"div",[["class","background"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closePopUp(!1)&&t),t},null,null)),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.rb(4,0,null,null,48,"div",[["class","body"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==e.stopPropagation()&&t),t},null,null)),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.rb(6,0,null,null,9,"div",[["class","header"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.ib(16777216,null,null,1,null,x)),t.qb(9,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.ib(16777216,null,null,1,null,y)),t.qb(12,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.rb(14,0,null,null,0,"img",[["src","assets/img/close-white.svg"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closePopUp(!1)&&t),t},null,null)),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.Jb(-1,null,["\n\n      "])),(n()(),t.rb(17,0,null,null,34,"div",[["class","tokensContainer"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.rb(19,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n          "])),(n()(),t.rb(21,0,null,null,4,"div",[["class","col-12 margin-top"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n            "])),(n()(),t.ib(16777216,null,null,1,null,M)),t.qb(24,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n          "])),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.ib(16777216,null,null,1,null,I)),t.qb(29,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.ib(16777216,null,null,1,null,J)),t.qb(32,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.rb(34,0,null,null,4,"div",[["class","ib"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n          "])),(n()(),t.ib(16777216,null,null,1,null,C)),t.qb(37,278528,null,0,i.m,[t.Q,t.N,t.t],{ngForOf:[0,"ngForOf"]},null),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.ib(16777216,null,null,1,null,N)),t.qb(41,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n\n        "])),(n()(),t.rb(43,0,null,null,7,"div",[["class","row"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n          "])),(n()(),t.rb(45,0,null,null,4,"div",[["class","col-12 margin-top"]],null,null,null,null,null)),(n()(),t.Jb(-1,null,["\n            "])),(n()(),t.rb(47,0,null,null,1,"button",[["class","primary-button"]],null,[[null,"click"]],function(n,l,e){var t=!0;return"click"===l&&(t=!1!==n.component.closePopUp(!0)&&t),t},null,null)),(n()(),t.Jb(-1,null,["CONFIRMAR"])),(n()(),t.Jb(-1,null,["\n          "])),(n()(),t.Jb(-1,null,["\n        "])),(n()(),t.Jb(-1,null,["\n      "])),(n()(),t.Jb(-1,null,["\n    "])),(n()(),t.Jb(-1,null,["\n  "])),(n()(),t.Jb(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,9,0,!e.title),n(l,12,0,e.title),n(l,24,0,e.showReSendSMS&&e.ScopeService.scope.tokenSMS),n(l,29,0,!e.isMobile),n(l,32,0,e.isMobile),n(l,37,0,e.token),n(l,41,0,e.datamodel.invalid&&e.datamodel.touched)},null)}function P(n){return t.Lb(0,[t.Hb(671088640,1,{input:0}),(n()(),t.ib(16777216,null,null,1,null,w)),t.qb(2,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n"])),(n()(),t.ib(16777216,null,null,1,null,_)),t.qb(5,16384,null,0,i.n,[t.Q,t.N],{ngIf:[0,"ngIf"]},null),(n()(),t.Jb(-1,null,["\n"]))],function(n,l){var e=l.component;n(l,2,0,!e.popUp),n(l,5,0,e.popUp)},null)}},pDKU:function(n,l,e){"use strict";e.d(l,"a",function(){return t});var t=function(){return function(){}}()},"q/Ak":function(n,l,e){"use strict";e.d(l,"a",function(){return s});var t,o=e("CcnG"),u=e("gIcY"),i=(e("H+bZ"),e("4a7C"),e("XDbx"),function(n,l,e,t){return new(e||(e=Promise))(function(o,u){function i(n){try{a(t.next(n))}catch(l){u(l)}}function c(n){try{a(t.throw(n))}catch(l){u(l)}}function a(n){n.done?o(n.value):new e(function(l){l(n.value)}).then(i,c)}a((t=t.apply(n,l||[])).next())})}),c=[],a=["0","1","2","3","4","5","6","7","8","9"],r=["0","1","2","3","4","5","6","7","8","9"],s=function(){function n(n,l,e){this.ScopeService=n,this.ApiService=l,this.Sofia=e,this.focus=!1,this.customMethod=!1,this.showReSendSMS=!0,this.popUp=!1,this.needToHaveToken=!0,this.Origen="",this.closed=new o.m,this.tokenMob=new u.f(""),this.isMobile=!1,this.hasToken=!1,this.blockedToken=!1,this.indice=-1,this.lastTokenValue="",this.showTokenPopUp=!1,this.sendedSMS=!1,this.lastFlow={}}return n.prototype.focusInput=function(n){this.input.nativeElement.focus(),this.isMobile||(this.indice=n)},n.prototype.checkHasToken=function(){if(this.desbloqueo)this.hasToken=!1,this.blockedToken=!1,this.needToHaveToken=!0;else for(var n=0;n<this.ScopeService.scope.tokens.length;n++){var l=this.ScopeService.scope.tokens[n];if("C"==l.Estado){this.hasToken=!0;break}if("E"==l.Estado){this.blockedToken=!0;break}}},n.prototype.ngOnInit=function(){var n,l,e=this;this.checkHasToken(),c.push(this.ScopeService.scope.token_changed.subscribe(function(){e.checkHasToken()})),this.length=this.ScopeService.config.tokenLength,this.token=new Array(this.length).fill(""),this.isMobile=(l=!1,n=navigator.userAgent||navigator.vendor,(/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(n)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(n.substr(0,4)))&&(l=!0),l),this.datamodel.setValidators(this.datamodel.validator?[this.datamodel.validator,u.x.minLength(this.length)]:u.x.minLength(this.length)),this.focus&&setTimeout(function(){e.focusInput(0)},10),this.tokenMob.valueChanges.subscribe(function(n){e.onChanges(n)}),this.datamodel.valueChanges.subscribe(function(n){""!=n||n==e.lastTokenValue?e.lastTokenValue=n:(e.lastTokenValue=n,e.token.fill(""),e.tokenMob.setValue(""))}),this.controlName&&(c.push(this.ScopeService.scope.focusElem.subscribe(function(n){var l;if(e.controlName==n){if(e.ScopeService.scope.accesible){var t=[];!e.hasToken&&e.needToHaveToken||e.blockedToken?e.blockedToken?(e.Sofia.speakText("Tu token se encuentra bloqueado por intentos fallidos, por favor vuelve a intentarlo luego.",!0),t.push("Tu token se encuentra bloqueado por intentos fallidos, por favor vuelve a intentarlo luego.")):(e.Sofia.speakText("No tienes ningun token asignado, presiona enter para solicitar uno y poder continuar.",!0),t.push("No tienes ningun token asignado, presiona enter para solicitar uno y poder continuar."),e.lastFlow.name=e.ScopeService.accesible.flowName,e.lastFlow.flow=e.ScopeService.accesible.FocusFlow.flow,e.ScopeService.accesible.flowName="needToken"):(e.Sofia.speakText("Por favor ingresa el "+(e.title?e.title:"token de seguridad")+" y presiona shift + abajo para continuar.",!0),t.push("Por favor ingresa el "+(e.title?e.title:"token de seguridad")+" y presiona shift + abajo para continuar."),e.showReSendSMS&&e.ScopeService.scope.tokenSMS&&(e.Sofia.speakText("Presione shift + S para enviar un SMS con el token",!0),t.push("Presione shift + S para enviar un SMS con el token"))),(l=e.ScopeService.accesible).setInactivityText.apply(l,t)}!e.hasToken&&e.needToHaveToken||e.blockedToken||e.focusInput(0)}else e.indice=-1,"needToken"==e.ScopeService.accesible.flowName&&(e.ScopeService.accesible.flowName="")})),console.log("subscribed")),this.ScopeService.scope.accesible&&c.push(this.Sofia.navItem$.subscribe(function(n){if("SEND_SMS"==n.type&&e.showReSendSMS&&e.ScopeService.scope.tokenSMS)e.sendSMS();else if("NEXT_INPUT"==n.type&&e.controlName&&e.controlName==n.elem||"PREV_INPUT"==n.type&&e.controlName&&e.controlName==n.elem){if(""==e.datamodel.value)return e.Sofia.speakText("Debes completar el "+(e.title?e.title:"token de seguridad"),!0),void e.ScopeService.accesible.focus(e.controlName);if(e.datamodel.value.length<6)return e.datamodel.setValue(""),e.Sofia.speakText("Debes completar el "+(e.title?e.title:"token de seguridad"),!0),void e.ScopeService.accesible.focus(e.controlName);e.Sofia.speakText("Ingresaste "+String(e.datamodel.value).split("").join(" ")+" en el campo "+(e.title?e.title:"token de seguridad")+".",!0),e.Sofia.speakText("Presiona shift + C si es correcto o shift + R para cambiarlo",!0),e.ScopeService.accesible.setInactivityText("Ingresaste "+String(e.datamodel.value).split("").join(" ")+" en el campo "+(e.title?e.title:"token de seguridad")+".","Presiona shift + C si es correcto o shift + R para cambiarlo")}else"REWRITE_INPUT"==n.type&&e.controlName&&e.controlName==n.elem?(e.datamodel.setValue(""),e.token.fill(""),e.tokenMob.setValue(""),e.Sofia.speakText("Por favor ingresa el "+(e.title?e.title:"token de seguridad")+" y presiona shift + abajo para continuar.",!0),e.ScopeService.accesible.setInactivityText("Por favor ingresa el "+(e.title?e.title:"token de seguridad")+" y presiona shift + abajo para continuar."),e.focusInput(0)):"REQUEST_TOKEN"==n.type&&e.solicitaToken()}))},n.prototype.ngOnDestroy=function(){for(var n=0;n<c.length;n++)c[n].unsubscribe()},n.prototype.keyDown=function(n){n.preventDefault(),r.indexOf(n.key)>-1?a.indexOf(n.key)>-1&&(this.indice<this.token.length&&(this.token[this.indice]=n.key),this.indice<this.token.length-1&&this.indice++):"Backspace"==n.key?(this.token[this.indice]="",this.indice>0&&this.indice--):"ArrowLeft"==n.key&&this.indice>0?this.indice--:"ArrowRight"==n.key&&this.indice<this.token.length-1?this.indice++:"Delete"==n.key&&(this.token[this.indice]=""),this.datamodel.setValue(this.token.join(""))},n.prototype.onChanges=function(n){var l=function(n,l){for(var e="",t=0;t<Math.min(n.length,l);t++)-1!=a.indexOf(n[t])&&(e+=n[t]);return e}(n,this.length);l!=n&&this.tokenMob.setValue(l),this.token.fill("");for(var e=0;e<l.length;e++)this.token[e]=l[e];this.indice=Math.min(l.length,this.length-1),this.datamodel.setValue(this.token.join(""))},n.prototype.sendSMS=function(){return i(this,void 0,void 0,function(){var n=this;return function(n,l){var e,t,o,u,i={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return u={next:c(0),throw:c(1),return:c(2)},"function"==typeof Symbol&&(u[Symbol.iterator]=function(){return this}),u;function c(u){return function(c){return function(u){if(e)throw new TypeError("Generator is already executing.");for(;i;)try{if(e=1,t&&(o=2&u[0]?t.return:u[0]?t.throw||((o=t.return)&&o.call(t),0):t.next)&&!(o=o.call(t,u[1])).done)return o;switch(t=0,o&&(u=[2&u[0],o.value]),u[0]){case 0:case 1:o=u;break;case 4:return i.label++,{value:u[1],done:!1};case 5:i.label++,t=u[1],u=[0];continue;case 7:u=i.ops.pop(),i.trys.pop();continue;default:if(!(o=(o=i.trys).length>0&&o[o.length-1])&&(6===u[0]||2===u[0])){i=0;continue}if(3===u[0]&&(!o||u[1]>o[0]&&u[1]<o[3])){i.label=u[1];break}if(6===u[0]&&i.label<o[1]){i.label=o[1],o=u;break}if(o&&i.label<o[2]){i.label=o[2],i.ops.push(u);break}o[2]&&i.ops.pop(),i.trys.pop();continue}u=l.call(n,i)}catch(c){u=[6,c],t=0}finally{e=o=0}if(5&u[0])throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}([u,c])}}}(this,function(l){switch(l.label){case 0:if(!this.ScopeService.scope.authenticated)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,this.ApiService.send_token()];case 2:return l.sent(),this.ScopeService.scope.accesible&&(this.Sofia.clearSpeaks(),this.Sofia.speakText("El SMS ha sido enviado exitosamente.",!0)),[3,4];case 3:return l.sent(),[3,4];case 4:return this.ScopeService.scope.accesible&&setTimeout(function(){n.controlName&&n.ScopeService.accesible.focus(n.controlName)},200),[3,6];case 5:this.ScopeService.scope.accesible&&setTimeout(function(){n.controlName&&n.ScopeService.accesible.focus(n.controlName)},200),l.label=6;case 6:return this.ScopeService.scope.tokenSMS&&(this.sendedSMS=!0),[2]}})})},n.prototype.solicitaToken=function(){var n=this;this.ScopeService.scope.show_token_offer=!0,"CambioClave"==this.Origen&&(this.ScopeService.scope.Origen=this.Origen),this.ScopeService.scope.only_accept_token_offer=!0,this.ScopeService.scope.accesible||(this.lastFlow.name=this.ScopeService.accesible.flowName),t=this.ScopeService.scope.token_offer_accept.subscribe(function(l){l&&(n.hasToken=!0,setTimeout(function(){n.ScopeService.scope.accesible?n.ScopeService.accesible.focus(n.controlName):n.focusInput(0)},100)),setTimeout(function(){t.unsubscribe(),console.log("flowname en solicitatoken() ",n.lastFlow.name),n.ScopeService.accesible.flowName=n.lastFlow.name,n.ScopeService.accesible.setFocusFlow(n.lastFlow.flow,{focusedElem:n.controlName,autoFocus:!0}),n.lastFlow.name=""},150)})},n.prototype.closePopUp=function(n){n?(this.datamodel.markAsTouched({onlySelf:!0}),this.datamodel.valid&&this.closed.emit(n)):this.closed.emit(n)},n}()}}]);